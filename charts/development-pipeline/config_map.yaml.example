apiVersion: v1
kind: ConfigMap
metadata:
  name: deployment-flow
data:
  cluster.json: |
    {
     "use_existing_cluster": "true"
    }
  image.json: |
    [
      {
       "build_from_source": false,
       "image_name": "mongodb-sharded",
       "project": "mongodb",
       "repo": "mongodb-sharded",
       "tag": "4.4.3",
       "image_fullname": "mongodb/mongodb-sharded:4.4.3",
       "path": "",
       "build": {
          "repo": "docker.io/bitnami/mongodb-sharded",
          "tag": "4.4.3-debian-10-r44"
       }
      },
      {
       "build_from_source": true,
       "image_name": "mongodb",
       "project": "mongodb",
       "repo": "mongodb",
       "tag": "1.built",
       "image_fullname": "mongodb/mongodb:1.0",
       "path": "tools/gate/jarvis/5G-SA-core/mongodb/images/mongodb",
       "build": {
          "repo": "https://review.opendev.org/airship/charts",
          "target_loc": "/src/checkout/mongodb",
          "refspec": "master",
          "version": "refs/changes/*:refs/changes/*"
       }
      }
    ]
  chart.json: |
    [
      {
        "chart_name": "mongodb-sharded",
        "project": "mongodb",
        "repo": "mongodb-sharded",
        "version": "3.3.3",
        "build_from_source": false,
        "path": "",
        "build": {
          "repo": "https://charts.bitnami.com/bitnami",
          "local_repo": "bitnami_mongodb",
          "target_loc": "/src/fetch/charts"
        },
        "namespace": "development-pipeline",
        "release_name": "mongodb-bitnami",
        "images": {
          "applications": {
            "mongodb-sharded": {
              "tag": "1.0",
              "name": "mongodb",
              "repo": "mongodb"
            }
          }
        }
      },
      {
        "chart_name": "mongodb",
        "project": "mongodb",
        "repo": "mongodb",
        "version": "0.1.0",
        "build_from_source": true,
        "path": "tools/gate/jarvis/5G-SA-core/mongodb/charts",
        "build": {
          "repo": "https://review.opendev.org/airship/charts",
          "target_loc": "/src/checkout/airship/charts",
          "refspec": "master"
        },
        "namespace": "development-pipeline",
        "release_name": "mongodb",
        "images": {
          "applications": {
            "mongodb": {
              "tag": "1.0",
              "name": "mongodb",
              "repo": "mongodb"
            }
          }
        }
      }
    ]
  default.json: |
    {
      "proxy": {
        "http": "",
        "https": "",
        "noproxy": "",
        "enabled": false
      },
     "chart_registry_url": "harbor-core.jarvis.local/chartrepo",
     "chart_repository": "jarvis-harbor",
     "docker_registry": "harbor-core.jarvis.local",
     "harbor_secret_mounted_path": "/workspace/helm-creds",
     "clone_async_batch_size": 20,
     "chart_async_batch_size": 20,
     "image_async_batch_size": 2
    }
  cleanup.json: |
    {
     "remove_artifacts": "true"
    }
